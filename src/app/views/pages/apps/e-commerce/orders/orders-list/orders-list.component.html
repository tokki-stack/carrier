<kt-portlet>
	<kt-portlet-header [class]="'card-head-lg'">
		<ng-container ktPortletTitle>
			<button mat-button [matMenuTriggerFor]="menu">{{title}}</button>
			<mat-menu #menu="matMenu">
				<button mat-menu-item (click)="menuChange($event)">All Orders</button>
				<button mat-menu-item (click)="menuChange($event)">Open Orders</button>
				<button mat-menu-item (click)="menuChange($event)">Closed Orders</button>
			</mat-menu>	| {{total}} total
		</ng-container>
		<ng-container ktPortletTools>
			<button mat-raised-button matTooltip="Create new customer" color="primary"
				type="button" (click)="newOrder()">
				<span>New Order</span>
			</button>
		</ng-container>

	</kt-portlet-header>
	<kt-portlet-body>
		<div class="col-md-2 kt-margin-bottom-10-mobile">
			<mat-form-field class="mat-form-field-fluid">
				<input matInput placeholder="Search customer" (keyup)="applyFilter($event.target.value)"/>
				<mat-hint align="start">
					<strong>Search</strong> in all fields
				</mat-hint>
			</mat-form-field>
		</div>
		<ng-container *ngIf="openFlag == 1">
			<div style="display: flex;
			margin-left: auto;
			margin-right: auto;
			justify-content: flex-end;">
				<div style="background-color: white;margin-right: 20px;
				color: black;
				width: 150px;
				text-align: center;
				vertical-align: middle;
				margin-top: auto;
				border: black 2px solid;
				margin-bottom: auto;"> All = {{total}} </div>
				<div style="background-color: aqua;margin-right: 20px;
				color: black;
				width: 150px;
				text-align: center;
				vertical-align: middle;
				margin-top: auto;
				border: black 2px solid;
				margin-bottom: auto;"> Pending = {{pending}} </div>
				<div style="background-color: blue;margin-right: 20px;
				color: white;
				width: 150px;
				text-align: center;
				vertical-align: middle;
				margin-top: auto;
				border: black 2px solid;
				margin-bottom: auto;"> in Progress = {{inProgress}} </div>
				<div style="background-color: bisque;margin-right: 20px;
				color: black;
				width: 150px;
				text-align: center;
				vertical-align: middle;
				margin-top: auto;
				border: black 2px solid;
				margin-bottom: auto;"> Pickup = {{pickUp}} </div>
			</div>
		</ng-container>
		<ng-container *ngIf="openFlag == 2">
			<div style="display: flex;
			margin-left: auto;
			margin-right: auto;
			justify-content: flex-end;">
				<div style="background-color: white;margin-right: 20px;
				color: black;
				width: 150px;
				text-align: center;
				vertical-align: middle;
				margin-top: auto;
				border: black 2px solid;
				margin-bottom: auto;"> All = {{total}} </div>
				<div style="background-color: aqua;margin-right: 20px;
				color: black;
				width: 150px;
				text-align: center;
				vertical-align: middle;
				margin-top: auto;
				border: black 2px solid;
				margin-bottom: auto;"> completed = {{completed}} </div>
				<div style="background-color: blue;margin-right: 20px;
				color: white;
				width: 150px;
				text-align: center;
				vertical-align: middle;
				margin-top: auto;
				border: black 2px solid;
				margin-bottom: auto;"> cancelled = {{cancelled}} </div>
			</div>
		</ng-container>
		<mat-table [dataSource]="dataSource" matSort>
			<ng-container matColumnDef="id">
				<!-- ATTRIBUTE mat-sort-header  for sorting | https://material.angular.io/components/sort/overview -->
				<mat-header-cell *matHeaderCellDef mat-sort-header>ID</mat-header-cell>
				<mat-cell *matCellDef="let order" (click)="packageView()">{{order.id}}</mat-cell>
			</ng-container>

			<ng-container matColumnDef="tracking">
				<mat-header-cell *matHeaderCellDef mat-sort-header>Tracking</mat-header-cell>
				<mat-cell *matCellDef="let order" (click)="packageView()">{{order.tracking}}</mat-cell>
			</ng-container>

			<ng-container matColumnDef="date">
				<mat-header-cell *matHeaderCellDef mat-sort-header>Date</mat-header-cell>
				<mat-cell *matCellDef="let order" (click)="packageView()">{{order.date}}</mat-cell>
			</ng-container>

			<ng-container matColumnDef="customer">
				<mat-header-cell *matHeaderCellDef mat-sort-header>Customer</mat-header-cell>
				<mat-cell *matCellDef="let order" (click)="packageView()">{{order.customer}}</mat-cell>
			</ng-container>
			
			<ng-container matColumnDef="weight">
				<mat-header-cell *matHeaderCellDef mat-sort-header>Weight</mat-header-cell>
				<mat-cell *matCellDef="let order" (click)="packageView()">{{order.weight}}</mat-cell>
			</ng-container>
			
			<ng-container matColumnDef="cost">
				<mat-header-cell *matHeaderCellDef mat-sort-header>Cost</mat-header-cell>
				<mat-cell *matCellDef="let order" (click)="packageView()">{{order.cost}}</mat-cell>
			</ng-container>

			<ng-container matColumnDef="assignedTo">
				<mat-header-cell *matHeaderCellDef mat-sort-header>Assigned to</mat-header-cell>
				<mat-cell *matCellDef="let order" (click)="packageView()">{{order.assignedTo}}</mat-cell>
			</ng-container>
			
			<ng-container matColumnDef="status">
				<mat-header-cell *matHeaderCellDef mat-sort-header>Status</mat-header-cell>
				<mat-cell *matCellDef="let order">
					<div *ngIf="order.status == 0" style="background-color: aqua;
					color: black;
					width: 100px;
					text-align: center;
					vertical-align: middle;
					margin-top: auto;
					border: black 2px solid;
					margin-bottom: auto;">
						<ng-container *ngIf="order.isOpen == true">Pendding</ng-container>
						<ng-container *ngIf="order.isOpen == false">Completed</ng-container>
					</div>
					<div *ngIf="order.status == 1" style="background-color: blue;
					color: white;
					width: 100px;
					text-align: center;
					vertical-align: middle;
					margin-top: auto;
					border: black 2px solid;
					margin-bottom: auto;">
						<ng-container *ngIf="order.isOpen == true"> In progress </ng-container>
						<ng-container *ngIf="order.isOpen == false">Cancelled</ng-container>	
					</div>
					<div *ngIf="order.status == 2" style="background-color: bisque;
					color: black;
					width: 100px;
					text-align: center;
					vertical-align: middle;
					margin-top: auto;
					border: black 2px solid;
					margin-bottom: auto;"> Pick up </div>
				</mat-cell>
			
			</ng-container>

			<mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>

			<mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
		</mat-table>
		<!-- start: BOTTOM -->
		<mat-paginator [showFirstLastButtons]="true" [pageSize]="10" [length]="10" [pageSizeOptions]="[10, 20, 30, 40]"></mat-paginator>

	</kt-portlet-body>
</kt-portlet>